<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.flf.mapper.ShopCommoditySkuMapper">
  <resultMap id="BaseResultMap" type="com.flf.entity.ShopCommoditySku">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 16:44:01 CST 2017.
    -->
    <id column="sku_id" jdbcType="INTEGER" property="skuId" />
    <result column="commodity_id" jdbcType="INTEGER" property="commodityId" />
    <result column="sku_sale" jdbcType="VARCHAR" property="skuSale" />
    <result column="sku_rent" jdbcType="VARCHAR" property="skuRent" />
    <result column="rent_stock" jdbcType="INTEGER" property="rentStock" />
    <result column="sale_stock" jdbcType="INTEGER" property="saleStock" />
    <result column="commoditySize" jdbcType="VARCHAR" property="commoditySize" />
    <result column="color" jdbcType="VARCHAR" property="color" />
    <result column="img" jdbcType="VARCHAR" property="img" />
    <result column="commodity_hot" jdbcType="INTEGER" property="commodityHot" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 16:44:01 CST 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 16:44:01 CST 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 18 16:44:01 CST 2017.
    -->
    sku_id, commodity_id, sku_sale, sku_rent, rent_stock, sale_stock, commoditySize, 
    color, img,commodity_hot
  </sql>
 
  
  	<select id="list" resultMap="BaseResultMap" parameterType="java.lang.Integer">
		SELECT * FROM shop_commodity_sku  where commodity_id = #{commodityId}
	</select>
  
  	<insert id="add" parameterType="Object" >
	<selectKey resultType="java.lang.Integer" order="AFTER" keyProperty="skuId">
		SELECT LAST_INSERT_ID()
	  </selectKey>
	  insert into shop_commodity_sku(sku_id,commodity_id,sku_sale,sku_rent,rent_stock,sale_stock,commoditySize,color,img,commodity_hot)
	 values(#{skuId},#{commodityId},#{skuSale},#{skuRent},#{rentStock},#{saleStock},#{commoditySize},#{color},#{img},#{commodityHot})
	</insert>
  
  
  <select id="queryById"  resultMap="BaseResultMap" parameterType="Object">
	select <include refid="Base_Column_List" /> 
	 from shop_commodity_sku where sku_id = #{skuId}
</select>
  
  	
  	 <!-- 修改记录，只修改只不为空的字段 -->
	<update id="updateBySelective" parameterType="Object" >
		update shop_commodity_sku set 
		<trim  suffixOverrides="," >
		<if test="skuSale != null  ">
			sku_sale=#{skuSale},
		</if>
		<if test="skuRent != null  ">
			sku_rent=#{skuRent},
		</if>
		<if test="rentStock != null  ">
			rent_stock=#{rentStock},
		</if>
		<if test="saleStock != null  ">
			sale_stock=#{saleStock},
		</if>
		<if test="commoditySize != null  ">
			commoditySize=#{commoditySize},
		</if>
		<if test="color != null  ">
			color=#{color},
		</if>
		<if test="img != null  ">
			img=#{img},
		</if>
		<if test="commodityHot != null  ">
			commodity_hot=#{commodityHot},
		</if>
		</trim> where sku_id=#{skuId}
	</update>
	
	<!-- 删除记录 -->
	<delete id="delete" parameterType="Object">
		delete 	 from shop_commodity_sku where sku_id = #{skuId}
	</delete>
	  
</mapper>